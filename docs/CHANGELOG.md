# Boris Life - Work Engine 版本变更日志

所有重要变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

---

## [Unreleased]

### Planned
- 循环任务支持
- 任务提醒通知
- 撤销/重做功能
- AI 聊天助手

---

## [2.1.0] - 2025-12-27

### Added - 新增功能
- **任务标签系统 (F401)**: 为任务添加自定义标签分类
  - 创建任务时可添加多个标签
  - 标签以彩色标签显示在任务下方
  - Enter 或逗号添加标签，Backspace 删除
  - 后端 `/api/tags` 获取所有已用标签
- **每日回顾 (F601)**: 任务完成情况总结弹窗
  - 显示今日已完成/待完成任务数量
  - 智能生成激励文案
  - 列出已完成的任务清单
  - 快捷键 `R` 打开每日回顾
  - 左下角触发按钮

---

## [2.0.0] - 2025-12-27

### Added - 新增功能
- **深色模式**: 支持系统偏好自动检测和手动切换（快捷键 D）
- **键盘快捷键**: 全局快捷键支持
  - `N` - 新建任务
  - `S` - 搜索任务
  - `1/2/3` - 切换标签页
  - `D` - 切换深色模式
  - `F` - 专注模式
  - `P` - 番茄钟
  - `?` - 显示快捷键帮助
  - `Esc` - 关闭弹窗
- **任务搜索**: 实时搜索过滤，匹配文字高亮显示
- **快速添加栏**: 页面底部固定的快速任务添加入口
- **番茄钟**: 25分钟工作/5分钟休息循环，支持通知提醒
- **专注模式**: 隐藏侧边栏、导航等非必要UI元素
- **同步状态指示器**: 显示保存中/已保存/保存失败状态
- **触摸拖拽**: 移动端支持长按拖拽任务到不同象限
- **手势导航**: 移动端支持左右滑动切换标签页
- **数据导出**: 支持导出全部数据为 JSON 或 CSV 格式
- **数据导入**: 支持从 JSON 备份导入数据（合并模式）
- **统计 API**: `/api/stats` 提供任务完成统计数据
- **开发文档**: Agent开发范式指南、需求管理文档

### Changed - 变更
- 更新 README.md，添加 v2.0 新功能说明
- 优化 CSS 架构，使用 CSS 变量管理主题
- 改进移动端底部导航，游戏入口替换AI入口

### Fixed - 修复
- 修复移动端拖拽功能不可用的问题
- 修复游戏切换时CSS优先级导致的显示问题
- 改进虚拟键盘弹出时的输入体验

### Security - 安全
- 移除 viewport 中的 `user-scalable=no`，改善无障碍访问

---

## [1.5.0] - 2025-12-27

### Added
- **蜘蛛游戏**: "你过来啊" 领地占领小游戏
  - 三种难度（简单/普通/困难）
  - 实时计时器
  - 移动端触屏控制
- **打砖块游戏**: "各个击破" 经典打砖块
  - 可调节挡板大小和球速
  - 16:9 画面比例
  - 分数和生命值系统
- **游戏选择器**: 在游戏页面切换不同游戏
- **游戏排行榜**: 记录最佳成绩（本地存储）

### Changed
- 游戏页面采用三栏布局（游戏列表/游戏区/说明）
- 移动端游戏采用卡片选择器 + iframe 嵌入

---

## [1.0.0] - 2025-12-27

### Added
- **Todo 管理**: 基于艾森豪威尔矩阵的任务管理
  - 四象限分类（重要紧急/重要不紧急/不重要紧急/不重要不紧急）
  - 三个时间维度（今日/本周/30天）
  - 拖拽移动任务到不同象限
  - 任务完成状态切换
  - 已完成任务折叠显示
- **鼓励大师**: 程序员激励文本管理
  - 分类管理激励文字
  - 随机显示功能
- **气泡图工具**: 数据可视化
  - 创建和编辑气泡图
  - 版本管理
  - 数据持久化
- **Prompt 管理**:
  - prompt-todo: 待执行任务队列
  - prompt历史: 已执行任务归档
  - 状态流转（待修改→待执行→已执行）
- **随机名言**: 每次刷新显示不同的激励名言
- **PWA 支持**:
  - Service Worker 缓存
  - 可安装到主屏幕
  - 离线基础功能
- **平台自适应**:
  - 自动检测桌面/移动端
  - 桌面端：侧边栏布局 + 小宠物
  - 移动端：底部导航 + 卡片布局
- **小宠物**: 可爱的跟随动画（桌面端）
- **多时区显示**: 北京/滑铁卢/温哥华时间

### Technical
- Flask 后端框架
- Jinja2 模板引擎
- JSON 文件数据存储
- CSS 变量主题系统
- 响应式设计

---

## 版本号说明

- **主版本号 (Major)**: 不兼容的 API 修改
- **次版本号 (Minor)**: 向下兼容的功能性新增
- **修订号 (Patch)**: 向下兼容的问题修正

---

## 升级指南

### 从 v1.x 升级到 v2.0

1. **备份数据**:
   ```bash
   # 复制 data/ 目录
   cp -r data/ data_backup/
   ```

2. **更新代码**:
   ```bash
   git pull origin main
   ```

3. **验证功能**:
   - 检查深色模式是否正常
   - 测试键盘快捷键
   - 验证移动端拖拽

4. **清除缓存**:
   - 浏览器: Ctrl+Shift+R
   - Service Worker: 开发者工具 → Application → Service Workers → Update

---

## 已知问题

### v2.0.0
- [ ] 专注模式下番茄钟不可见
- [ ] Safari 上手势导航可能与浏览器手势冲突

### v1.5.0
- [x] ~~游戏切换时CSS优先级问题~~ (v2.0 已修复)

### v1.0.0
- [x] ~~移动端拖拽不可用~~ (v2.0 已修复)

---

## 贡献者

- **Boris** - 产品设计、需求定义
- **Claude Code** - 代码实现、文档编写

---

## 链接

- [产品设计文档](./PRODUCT_DESIGN.md)
- [需求管理文档](./REQUIREMENTS.md)
- [Agent开发指南](./AGENT_DEVELOPMENT_GUIDE.md)
- [README](../README.md)

---

**文档维护者**: Claude Code Agent
**最后更新**: 2025-12-27
