{% extends "base.html" %}

{% block title %}è‹±æ–‡å­¦ä¹ å¤©åœ° - Boris Life{% endblock %}

{% block content %}
<div class="english-page">
    <div class="page-header">
        <h1 class="page-title">ğŸ“š English Learning Zone</h1>
        <p class="page-subtitle">æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œè‹±è¯­è¶Šæ¥è¶Šæµåˆ©</p>
    </div>

    <!-- Daily Word -->
    <div class="daily-word-section">
        <div class="section-header">
            <h2>ğŸ“– æ¯æ—¥å•è¯</h2>
            <button class="refresh-btn" onclick="refreshWord()">ğŸ”„ æ¢ä¸€ä¸ª</button>
        </div>
        <div class="word-card" id="wordCard">
            <div class="word-main">
                <span class="word" id="wordText">Perseverance</span>
                <span class="phonetic" id="wordPhonetic">/ËŒpÉœËrsÉ™ËˆvÉªrÉ™ns/</span>
            </div>
            <div class="word-meaning" id="wordMeaning">
                <strong>n.</strong> åšæŒä¸æ‡ˆï¼›æ¯…åŠ›
            </div>
            <div class="word-example" id="wordExample">
                <em>"Success is not final, failure is not fatal: it is the courage to continue that counts."</em>
                <p>â€” Winston Churchill</p>
            </div>
        </div>
    </div>

    <!-- Quick Phrases -->
    <div class="phrases-section">
        <h2>ğŸ’¬ å®ç”¨çŸ­è¯­</h2>
        <div class="phrases-grid">
            <div class="phrase-card">
                <div class="phrase-en">Break a leg!</div>
                <div class="phrase-zh">ç¥ä½ å¥½è¿ï¼ï¼ˆæ¼”å‡ºå‰çš„ç¥ç¦è¯­ï¼‰</div>
            </div>
            <div class="phrase-card">
                <div class="phrase-en">Piece of cake</div>
                <div class="phrase-zh">å°èœä¸€ç¢Ÿ</div>
            </div>
            <div class="phrase-card">
                <div class="phrase-en">Hit the nail on the head</div>
                <div class="phrase-zh">ä¸€é’ˆè§è¡€</div>
            </div>
            <div class="phrase-card">
                <div class="phrase-en">It's not rocket science</div>
                <div class="phrase-zh">è¿™ä¸æ˜¯ä»€ä¹ˆéš¾äº‹</div>
            </div>
            <div class="phrase-card">
                <div class="phrase-en">The ball is in your court</div>
                <div class="phrase-zh">è¯¥ä½ åšå†³å®šäº†</div>
            </div>
            <div class="phrase-card">
                <div class="phrase-en">Think outside the box</div>
                <div class="phrase-zh">è·³å‡ºæ€ç»´å®šå¼</div>
            </div>
        </div>
    </div>

    <!-- Grammar Tips -->
    <div class="grammar-section">
        <h2>ğŸ“ è¯­æ³•å°è´´å£«</h2>
        <div class="grammar-cards">
            <div class="grammar-card">
                <h3>ç°åœ¨å®Œæˆæ—¶ vs ä¸€èˆ¬è¿‡å»æ—¶</h3>
                <div class="grammar-example">
                    <p><span class="correct">âœ“</span> I <strong>have lived</strong> in Beijing for 5 years. (è¿˜ä½åœ¨åŒ—äº¬)</p>
                    <p><span class="correct">âœ“</span> I <strong>lived</strong> in Beijing for 5 years. (å·²ä¸ä½åœ¨åŒ—äº¬)</p>
                </div>
            </div>
            <div class="grammar-card">
                <h3>è™šæ‹Ÿè¯­æ°”</h3>
                <div class="grammar-example">
                    <p><span class="correct">âœ“</span> If I <strong>were</strong> you, I would study harder.</p>
                    <p><span class="wrong">âœ—</span> If I <strong>was</strong> you... (å£è¯­ä¸­å¸¸è§ä½†ä¸æ ‡å‡†)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Practice Section -->
    <div class="practice-section">
        <h2>ğŸ¯ å¿«é€Ÿç»ƒä¹ </h2>
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-question" id="quizQuestion">
                Choose the correct answer: She ___ to the gym every day.
            </div>
            <div class="quiz-options" id="quizOptions">
                <button class="quiz-option" onclick="checkAnswer(this, false)">go</button>
                <button class="quiz-option" onclick="checkAnswer(this, true)">goes</button>
                <button class="quiz-option" onclick="checkAnswer(this, false)">going</button>
                <button class="quiz-option" onclick="checkAnswer(this, false)">gone</button>
            </div>
            <div class="quiz-result hidden" id="quizResult"></div>
            <button class="next-btn hidden" id="nextBtn" onclick="nextQuiz()">ä¸‹ä¸€é¢˜ â†’</button>
        </div>
    </div>
</div>

<style>
.english-page {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
}

.page-header {
    text-align: center;
    margin-bottom: 30px;
}

.page-title {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0 0 8px 0;
}

.page-subtitle {
    color: var(--text-muted);
    font-size: 1rem;
    margin: 0;
}

/* Daily Word Section */
.daily-word-section {
    margin-bottom: 30px;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.section-header h2 {
    font-size: 1.2rem;
    color: var(--text-primary);
    margin: 0;
}

.refresh-btn {
    padding: 8px 16px;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.refresh-btn:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
}

.word-card {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
    border-radius: 16px;
    padding: 30px;
    text-align: center;
}

.word-main {
    margin-bottom: 15px;
}

.word {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary-color);
    display: block;
}

.phonetic {
    color: var(--text-muted);
    font-size: 1rem;
}

.word-meaning {
    font-size: 1.2rem;
    color: var(--text-primary);
    margin-bottom: 20px;
}

.word-example {
    padding: 20px;
    background: var(--bg-card);
    border-radius: 12px;
}

.word-example em {
    font-size: 1rem;
    color: var(--text-secondary);
    line-height: 1.6;
}

.word-example p {
    margin: 10px 0 0 0;
    color: var(--text-muted);
    font-size: 0.9rem;
}

/* Phrases Section */
.phrases-section {
    margin-bottom: 30px;
}

.phrases-section h2 {
    font-size: 1.2rem;
    color: var(--text-primary);
    margin: 0 0 15px 0;
}

.phrases-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 12px;
}

.phrase-card {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 16px;
    border-left: 4px solid var(--primary-color);
}

.phrase-en {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
}

.phrase-zh {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

/* Grammar Section */
.grammar-section {
    margin-bottom: 30px;
}

.grammar-section h2 {
    font-size: 1.2rem;
    color: var(--text-primary);
    margin: 0 0 15px 0;
}

.grammar-cards {
    display: grid;
    gap: 15px;
}

.grammar-card {
    background: var(--bg-card);
    border-radius: 12px;
    padding: 20px;
}

.grammar-card h3 {
    font-size: 1rem;
    color: var(--text-primary);
    margin: 0 0 12px 0;
}

.grammar-example p {
    margin: 8px 0;
    font-size: 0.95rem;
    color: var(--text-secondary);
}

.correct {
    color: #10b981;
    font-weight: bold;
}

.wrong {
    color: #ef4444;
    font-weight: bold;
}

/* Practice Section */
.practice-section h2 {
    font-size: 1.2rem;
    color: var(--text-primary);
    margin: 0 0 15px 0;
}

.quiz-container {
    background: var(--bg-card);
    border-radius: 16px;
    padding: 25px;
    text-align: center;
}

.quiz-question {
    font-size: 1.1rem;
    color: var(--text-primary);
    margin-bottom: 20px;
}

.quiz-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    max-width: 400px;
    margin: 0 auto;
}

.quiz-option {
    padding: 12px 20px;
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    border-radius: 10px;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.2s ease;
}

.quiz-option:hover {
    border-color: var(--primary-color);
}

.quiz-option.correct {
    background: #10b981;
    border-color: #10b981;
    color: white;
}

.quiz-option.wrong {
    background: #ef4444;
    border-color: #ef4444;
    color: white;
}

.quiz-result {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    font-size: 1rem;
}

.quiz-result.correct {
    background: rgba(16, 185, 129, 0.1);
    color: #10b981;
}

.quiz-result.wrong {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.next-btn {
    margin-top: 15px;
    padding: 10px 25px;
    background: var(--primary-gradient);
    color: white;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.95rem;
    transition: transform 0.2s ease;
}

.next-btn:hover {
    transform: scale(1.05);
}

.hidden {
    display: none !important;
}
</style>

<script>
var words = [
    { word: "Perseverance", phonetic: "/ËŒpÉœËrsÉ™ËˆvÉªrÉ™ns/", meaning: "<strong>n.</strong> åšæŒä¸æ‡ˆï¼›æ¯…åŠ›", example: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
    { word: "Resilience", phonetic: "/rÉªËˆzÉªliÉ™ns/", meaning: "<strong>n.</strong> éŸ§æ€§ï¼›æ¢å¤åŠ›", example: "The oak fought the wind and was broken, the willow bent when it must and survived.", author: "Robert Jordan" },
    { word: "Empathy", phonetic: "/ËˆempÉ™Î¸i/", meaning: "<strong>n.</strong> åŒç†å¿ƒï¼›å…±æƒ…", example: "Empathy is seeing with the eyes of another, listening with the ears of another.", author: "Alfred Adler" },
    { word: "Serendipity", phonetic: "/ËŒserÉ™nËˆdÉªpÉ™ti/", meaning: "<strong>n.</strong> æ„å¤–å‘ç°ï¼›æœºç¼˜å·§åˆ", example: "Serendipity is looking in a haystack for a needle and discovering a farmer's daughter.", author: "Julius Comroe" },
    { word: "Eloquent", phonetic: "/ËˆelÉ™kwÉ™nt/", meaning: "<strong>adj.</strong> é›„è¾©çš„ï¼›æœ‰è¯´æœåŠ›çš„", example: "Be sincere; be brief; be seated.", author: "Franklin D. Roosevelt" }
];

var quizzes = [
    { q: "She ___ to the gym every day.", options: ["go", "goes", "going", "gone"], correct: 1 },
    { q: "I have ___ finished my homework.", options: ["already", "yet", "still", "ever"], correct: 0 },
    { q: "He asked me where I ___.", options: ["live", "lived", "living", "lives"], correct: 1 },
    { q: "This is the best movie I ___ ever seen.", options: ["had", "has", "have", "having"], correct: 2 },
    { q: "If I ___ rich, I would travel the world.", options: ["am", "was", "were", "be"], correct: 2 }
];

var currentQuiz = 0;

function refreshWord() {
    var w = words[Math.floor(Math.random() * words.length)];
    document.getElementById('wordText').textContent = w.word;
    document.getElementById('wordPhonetic').textContent = w.phonetic;
    document.getElementById('wordMeaning').innerHTML = w.meaning;
    document.getElementById('wordExample').innerHTML = '<em>"' + w.example + '"</em><p>â€” ' + w.author + '</p>';
}

function checkAnswer(btn, isCorrect) {
    var options = document.querySelectorAll('.quiz-option');
    options.forEach(function(opt) {
        opt.disabled = true;
    });

    if (isCorrect) {
        btn.classList.add('correct');
        document.getElementById('quizResult').textContent = 'âœ“ æ­£ç¡®ï¼';
        document.getElementById('quizResult').className = 'quiz-result correct';
    } else {
        btn.classList.add('wrong');
        options[quizzes[currentQuiz].correct].classList.add('correct');
        document.getElementById('quizResult').textContent = 'âœ— å†æƒ³æƒ³...';
        document.getElementById('quizResult').className = 'quiz-result wrong';
    }

    document.getElementById('quizResult').classList.remove('hidden');
    document.getElementById('nextBtn').classList.remove('hidden');
}

function nextQuiz() {
    currentQuiz = (currentQuiz + 1) % quizzes.length;
    var quiz = quizzes[currentQuiz];

    document.getElementById('quizQuestion').textContent = 'Choose the correct answer: ' + quiz.q;

    var optionsHtml = '';
    quiz.options.forEach(function(opt, i) {
        var isCorrect = (i === quiz.correct);
        optionsHtml += '<button class="quiz-option" onclick="checkAnswer(this, ' + isCorrect + ')">' + opt + '</button>';
    });
    document.getElementById('quizOptions').innerHTML = optionsHtml;

    document.getElementById('quizResult').classList.add('hidden');
    document.getElementById('nextBtn').classList.add('hidden');
}

// Initialize with random word
refreshWord();
</script>
{% endblock %}
